<!--
  ~ Copyright (C) 2020 DV Bern AG, Switzerland
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="sozialhilfeZeitraumView gesuch-modul static-position">
    <h1 class="access-for-all-title" data-translate="AFA_GESUCHSFORMULAR"></h1>
    <div class="row view-title">
        <div class="col-md-12">
            <h2>
                <span data-translate="SOZIALHILFEZEITRAUM_TITLE"></span>
            </h2>
            <dv-bisher gs="vm.model.sozialhilfeZeitraumGS"
                       ja="vm.model.sozialhilfeZeitraumJA"
                       specific-bisher-text="'DURCH_GEMEINDE_ERFASST' | translate"
                       show-specific-bisher-text-if-bisher-none="true"></dv-bisher>

            <hr class="header"/>
            <p class="inline-hint" data-translate="PFLICHTFELDER_HINT" ng-if="!vm.isLuzern"></p>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form role="form" name="vm.form" class="" novalidate
                  unsaved-warning-form ng-if="vm.model">
                <fieldset ng-disabled="vm.isGesuchReadonly()">
                    <!--Ab Wann / Bis-->
                    <div class="row">
                        <div class="col-sm-12 dv-input-container-small">
                            <dv-input-container class="form-group">
                                <label class="md-no-float" data-translate="AB" for="sozialhilfeZeitraumAbID">
                                </label>
                                <dv-datepicker input-id="sozialhilfeZeitraumAbID" name="sozialhilfeZeitraumAb"
                                               ng-model="vm.model.sozialhilfeZeitraumJA.gueltigkeit.gueltigAb"
                                               ng-required="true" class="input-element" placeholder=""
                                               ng-disabled="vm.sozialhilfeZeitraumDisabled()"
                                               ng-attr-placeholder="{{'DATE_PLACEHOLDER' | translate}}">
                                </dv-datepicker>
                                <dv-bisher gs="vm.model.sozialhilfeZeitraumGS.gueltigkeit.gueltigAb"
                                           ja="vm.model.sozialhilfeZeitraumJA.gueltigkeit.gueltigAb"
                                           show-if-bisher-none="vm.isNotNullOrUndefined(vm.model.sozialhilfeZeitraumGS)"></dv-bisher>
                                <dv-error-messages input-id="sozialhilfeZeitraumAbID" for="vm.form.sozialhilfeZeitraumAb.$error"
                                                   class="error"></dv-error-messages>
                            </dv-input-container>
                        </div>
                        <div class="col-sm-12 dv-input-container-small">
                            <dv-input-container class="form-group">
                                <label class="md-no-float" data-translate="BIS" for="sozialhilfeZeitraumBisID">
                                </label>
                                <dv-datepicker input-id="sozialhilfeZeitraumBisID" name="sozialhilfeZeitraumBis"
                                               ng-model="vm.model.sozialhilfeZeitraumJA.gueltigkeit.gueltigBis"
                                               ng-required="false" class="input-element"
                                               ng-attr-placeholder="{{'DATE_PLACEHOLDER' | translate}}">
                                </dv-datepicker>
                                <dv-bisher gs="vm.model.sozialhilfeZeitraumGS.gueltigkeit.gueltigBis"
                                           ja="vm.model.sozialhilfeZeitraumJA.gueltigkeit.gueltigBis"
                                           show-if-bisher-none="vm.isNotNullOrUndefined(vm.model.sozialhilfeZeitraumGS)"></dv-bisher>
                                <dv-error-messages input-id="sozialhilfeZeitraumBisID" for="vm.form.sozialhilfeZeitraumBis.$error"
                                                   class="error"></dv-error-messages>
                            </dv-input-container>
                        </div>
                    </div>
                </fieldset>

                <!--Buttons-->
                <dv-navigation dv-cancel="vm.cancel()"
                               dv-save="vm.save()"
                               dv-next="!vm.isGesuchReadonly()"
                               dv-sub-step="2"
                               dv-sub-step-name="BERN_SOZIALHILFE_DETAIL"
                               dv-translate-next="{{'SPEICHERN'}}">
                </dv-navigation>

            </form>

            <p ng-if="!vm.model" data-translate="NO_SOZIALHILFEZEITRAUM_DATA"></p>

        </div>
    </div>
</div>
