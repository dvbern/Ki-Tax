/*
 * Ki-Tax: System for the management of external childcare subsidies
 * Copyright (C) 2018 City of Bern Switzerland
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */
@import (reference) '../../../../style/variables.less';
@import (reference) '../../../../style/mixins.less';

@dropDown: false;

.ddm() when (@dropDown) {
    > li > .dropdown-menu {
        background-color: @primary;
        > li {
            > a {
                color: @contrast-lightest;
                &:hover, &:focus {
                    background-color: @primary;
                    color: @primary-light;
                }
            }
            > .divider {
                background-color: @primary;
            }
        }
    }
    .open .dropdown-menu > .active {
        > a, > a:hover, > a:focus {
            color: @primary-light;
            //   background-color: @primary;
        }
    }
}

.navbar {
    border: none;
    border-radius: 0;
    height: @navbar-height;
    margin: 0;
}

::ng-deep .navbar-default {
    background-color: @primary;
    border-color: @primary;
    z-index: @z-index-navbar;

    .navbar-nav {
        .ebeguCapitalize();
        font-size: 1.6rem;
        letter-spacing: 0.15rem;
        text-align: center;
        width: 100%;
        > li {
            display: inline-block;
            float: none;
            height: @navbar-height;
            padding-left: 6rem;
            a {
                .ebeguNormal();
                box-sizing: border-box;
                color: @contrast-lightest;
                font-size: 1.6rem;
                height: @navbar-height;
                letter-spacing: 0.15rem;
                line-height: @navbar-height;
                padding: 0;
                text-align: center;
                text-decoration: none;
                &:hover, &:focus {
                    color: @primary-light;
                }
            }
            &.active {
                a, > a:hover, > a:focus {
                    .ebeguBold();
                    background-color: @primary;
                    border-bottom: 0.5rem solid @contrast-lightest;
                    box-sizing: border-box;
                    color: @contrast-lightest;
                    display: inline-block;
                }
            }
        }
        .active {
            > a {
                .ebeguBold();
                color: @contrast-lightest;
                // background-color: @primary;
            }
        }
        .open {
            > a, > a:hover, > a:focus {
                color: @primary-light;
                //    background-color: @primary;
            }
        }
    }
}

@media (max-width: 767px) {
    .navbar-default .navbar-nav .open .dropdown-menu {
        > li > a {
            color: @contrast-lightest;
            &:hover, &:focus {
                color: @primary-light;
            }
        }
        > .active {
            > a, > a:hover, > a:focus {
                background-color: @primary;
                color: @primary-light;
            }
        }
    }
}

.dv-ng-navbar-wrapper {
    align-items: flex-start;
    display: flex;
    flex-direction: row;
    height: 100%;
    justify-content: stretch;
}

.dv-btn.dv-ng-navbar-button {
    font-size: 1.6rem;
    height: 100%;
    letter-spacing: 0.116rem;

    .fa {
        margin-right: 1rem;
    }

    &:focus {
        outline: none;
    }

    &[disabled], &[disabled]:hover {
        background: @contrast;
        color: @contrast-lightest;
    }

    .md-button:not([disabled]):hover, &:focus {
        background: @contrast;
    }

}

::ng-deep .mat-button-focus-overlay {
    background: @contrast;
}

.dv-navbar-header {
    align-items: center;
    bottom: 0;
    display: flex;
    flex-direction: row;
    float: unset;
    justify-content: center;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
}

.dv-ng-navbar-element {
    cursor: pointer;
    height: 100%;
    margin-left: auto;

    &-fall-eroeffnen {
        &:extend(.dv-ng-navbar-element);
        z-index: @z-index-navbar - 1;
    }
}
