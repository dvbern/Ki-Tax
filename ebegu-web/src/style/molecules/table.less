/*
 * Ki-Tax: System for the management of external childcare subsidies
 * Copyright (C) 2017 City of Bern Switzerland
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */
@import (reference) '../variables.less';
@import (reference) '../mixins.less';

td, th {
    background-clip: padding-box !important;
}

.table-responsive {
    border: none;
}

.row-fallnr {
    min-width: 8rem;
    width: 8rem;
}

.row-name {
    width: 10%;

}

.row-antrag {
    width: 7.5%;

}

.row-periode {
    width: 7.5%;

}

.row-geandert {
    width: 7.5%;

}

.eingangsdatum.row-status {
    width: 12.5%;

}

.row-angebot {
    width: 15%;

}

.row-inst {
    width: 15%;

}

.row-ver {
    width: 10%;

}

.row-action {
    width: 10%;
}

.table {
    margin-bottom: 2rem;
}

.table > tbody {
    & > tr, & > tr:first-child {
        &:hover {
            background: #fafafa;
            color: @contrast-darkest;
        }

        &:focus {
            outline: 2px solid @contrast-darkest;
            outline-offset: 0;
        }

        &.disabled-row, &.disabled-row:hover {
            background: @contrast;
            cursor: default;

            &:focus {
                outline: none;
            }

            & > td {
                border-color: @contrast-dark;
            }
        }
    }
}

table, .table > tbody, .table > thead, .table > thead:first-child, mat-table {
    & > tr {
        & > td {
            .ebeguH3();
            border: 1px solid @contrast;
            border-left: none;
            border-right: none;
            color: @contrast-darkest;
            height: 6rem;
            line-height: 3rem;
            overflow: hidden;
            padding: 0 0.8rem 0;
            position: relative;
            text-overflow: ellipsis;
            vertical-align: middle;
            white-space: nowrap;

            .dvb-loading-button {
                text-align: end;
            }

            &.empty-table {
                .ebeguItalic();
            }

        }

        & > th, & > th:empty {
            .ebeguLabel();
            border: 1px solid @contrast;
            border-left: none;
            border-radius: 0;
            border-right: none;
            color: @contrast-darkest;
            height: 5rem;
            overflow: hidden;
            padding: 0 0.25rem 0;
            text-overflow: ellipsis;
            vertical-align: middle;

            span {
                .ebeguP();
                line-height: 0;
            }
        }
    }

    & > tr:first-child {
        & > th, & > th:empty {
            .ebeguLabel();
            border: 1px solid @contrast-darkest;
            border-left: none;
            border-radius: 0;
            border-right: none;
            color: @contrast-darkest;
            height: 4rem;
            padding: 0 0.8rem 0;
            vertical-align: middle;

            span {
                .ebeguP();
                line-height: 0;
            }
        }

        & > th:first-child {
            padding-left: 0;
        }

        .text-right {
            text-align: right;
        }
    }

    & > mat-header-row {
        min-height: auto;

        &:first-of-type.mat-header-row {
            border-bottom-color: black;
            border-top: 1px solid black;
        }

        & > mat-header-cell:first-of-type {
            padding-left: 0;
        }

        &:first-of-type > mat-header-cell {
            .ebeguLabel();
            color: black;
            height: 4rem;
            overflow: hidden;
            padding: 0 0.25rem 0;
            text-overflow: ellipsis;
            vertical-align: middle;
            text-transform: uppercase;
            font-family: Open Sans, Arial, Helvetica, sans-serif;

            div > .mat-sort-header-content > span {
                color: black;
                font-size: 1.4rem;
                font-weight: 400;
                letter-spacing: 0.1rem;
                text-align: left;
                text-transform: uppercase;
                padding-left: 5px;
            }
        }

        &:nth-of-type(2) > mat-header-cell {
            .ebeguLabel();
            color: black;
            height: 5rem;
            overflow: hidden;
            padding: 0 0.25rem 0;
            text-overflow: ellipsis;
            vertical-align: middle;

            & > mat-form-field {
                height: 5rem;

                & > .mat-form-field-wrapper {
                    & > div.mat-form-field-flex {

                        align-items: center;
                        height: 5rem;

                        & > .mat-form-field-infix {
                            border: 0;

                            & > input {
                                background: #e5e5e5;
                                caret-color: black;
                                font-size: 1.6rem;
                                font-weight: 700;
                                height: 4rem;
                            }
                        }
                    }
                    & > div.mat-form-field-underline {
                        display: none;
                    }
                }
            }
        }
    }
}

.gesuchsteller-dashboard-view {
    table {
        min-width: 100%;
    }

    .table > tbody {
        & > tr, & > tr:first-child {
            &:hover {
                background: rgba(220, 220, 220, 0.2);
            }
        }
    }

    table, .table > tbody, .table > thead, .table > thead:first-child {
        & > tr, & > tr:first-child {
            & > td {
                .ebeguLabel();
                border: 1px solid rgba(220, 220, 220, 0.2);
                border-left: none;
                border-right: none;
                color: @contrast-lightest;
                height: 5rem;
                padding: 0 0.8rem 0;
                vertical-align: middle;
            }

            & > th, & > th:empty {
                .ebeguH3();
                border: 1px solid @contrast-lightest;
                border-left: none;
                border-right: none;
                color: @contrast-lightest;
                height: 5rem;
                line-height: 3rem;
                padding: 0 0.8rem 0;
                position: relative;
                vertical-align: middle;

                span {
                    .ebeguP();
                    line-height: 0;
                }
            }
        }
    }
}

.ebegu-table {
    min-width: 65rem;
}

.table-fixed {
    table-layout: fixed;
}


