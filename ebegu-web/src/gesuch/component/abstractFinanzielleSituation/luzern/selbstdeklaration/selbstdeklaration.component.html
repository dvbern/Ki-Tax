<!--
  ~ Copyright (C) 2021 DV Bern AG, Switzerland
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program. If not, see <https://www.gnu.org/licenses/>.
  -->

<div class="row" *ngIf="!isEKV">
    <div class="col-xs-12">
        <mat-divider class="margin-bottom-50"></mat-divider>
        <h3 class="uppercase ebegu-h1" *ngIf="isGemeinsam">{{'SELBSTDEKLARATION_GEMEINSAM_TITLE' | translate:{gs1: antragsteller1Name(), gs2: antragsteller2Name(), year: basisJahr} }}</h3>
        <h3 class="uppercase ebegu-h1" *ngIf="!isGemeinsam">{{'SELBSTDEKLARATION_ALLEINE_TITLE' | translate: {gs1: antragsteller1Name(), year: basisJahr} }}</h3>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <h3 class="margin-bottom-20">{{'EINKUENFTE_IM_JAHR' | translate}} {{basisJahr}}</h3>
    </div>
    <div class="col-xs-12  dv-input-container-medium">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftErwerb"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ERWERB'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ERWERB_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftVersicherung"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_VERSICHERUNG'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_VERSICHERUNG_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftAusgleichskassen"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_AUSGLEICHSKASSEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_AUSGLEICHSKASSEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftWertschriften"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_WERTSCHRIFTEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_WERTSCHRIFTEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftUnterhaltsbeitragSteuerpflichtige"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_EINKUFT_UNTERHALT_STEUERPFLITIGE'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_EINKUFT_UNTERHALT_STEUERPFLITIGE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftUnterhaltsbeitragKinder"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_UNTERHALT_KINDER'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_UNTERHALT_KINDER_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftUeberige"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_UEBERIGE'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_UEBERIGE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.einkunftLiegenschaften"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_LIEGENSCHAFTEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_LIEGENSCHAFTEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [model]="getEinkommenForCurrentAntragsteller()"
            [labelMessageKey]="'FINANZIELLE_SITUATION_EINKOMMEN_EIN_GS'"
            [inputDisabled]="true">
        </dv-input-label-field>
    </div>
</div>
<mat-divider></mat-divider>
<h3 class="margin-bottom-20">{{'ABZUEGE_IM_JAHR' | translate}} {{basisJahr}}</h3>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugBerufsauslagen"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_BERUFSAUSLAGEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_BERUFSAUSLAGEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.abzugSchuldzinsen"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_SCHULDZINSEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_SCHULDZINSEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugUnterhaltsbeitragEhepartner"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_UNTERHALT_EHEPARTNER'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_UNTERHALT_EHEPARTNER_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugUnterhaltsbeitragKinder"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_UNTERHALT_KINDER'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_UNTERHALT_KINDER_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugRentenleistungen"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_RENTENLEISTUNGEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_RENTENLEISTUNGEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugSaeule3A"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_SAEULE3A'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_SAEULE3A_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugVersicherungspraemien"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_VERSICHERUNGSPRAEMIE'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_VERSICHERUNGSPRAEMIE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugKrankheitsUnfallKosten"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_KRANKHEIT_UNFALL'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_KRANKHEIT_UNFALL_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugFreiweiligeZuwendungPartien"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ZUWENDUNG_PARTEI'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ZUWENDUNG_PARTEI_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugKinderVorschule"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_KINDER_VORSCHULE'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_KINDER_VORSCHULE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugKinderSchule"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_KINDER_SCHULE'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_KINDER_SCHULE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugKinderAuswaertigerAufenthalt"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_KINDER_AUSWAERTIG'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_KINDER_AUSWAERTIG_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugEigenbetreuung"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_EIGENBETREUUNG'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_EIGENBETREUUNG_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugFremdbetreuung"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_FREMDBETREUUNG'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_FREMDBETREUUNG_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugErwerbsunfaehigePersonen"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ERWERBSUNFAEHIG'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ERWERBSUNFAEHIG_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [model]="getAbzuegeForCurrentAntragsteller()"
            [labelMessageKey]="'FINANZIELLE_SITUATION_TOTAL_ABZUEGE'"
            [inputDisabled]="true">
        </dv-input-label-field>
    </div>
</div>
<mat-divider></mat-divider>
<h3 class="margin-bottom-20">{{'VERMOEGEN_IM_JAHR' | translate }} {{basisJahr}}</h3>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.vermoegen"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_VERMOEGEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_VERMOEGEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugSteuerfreierBetragErwachsene"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_STEUERFREI_ERWACHSENE'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_STEUERFREI_ERWACHSENE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.selbstdeklaration.abzugSteuerfreierBetragKinder"
            [labelMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_STEUERFREI_KINDER'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_SELBSTDEKLARATION_ABZUG_STEUERFREI_KINDER_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly">
        </dv-input-label-field>
    </div>
</div>

<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [model]="getVermoegenForCurrentAntragsteller()"
            [labelMessageKey]="'ANRECHENBARES_VERMOEGEN_GEMAESS_SELBSTDEKLARATION'"
            [tooltipMessageKey]="'ANRECHENBARES_VERMOEGEN_GEMAESS_SELBSTDEKLARATION_HINT'"
            [inputDisabled]="true">
        </dv-input-label-field>
    </div>
</div>
