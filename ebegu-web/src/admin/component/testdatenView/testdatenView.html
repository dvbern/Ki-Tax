<!--
  ~ Ki-Tax: System for the management of external childcare subsidies
  ~ Copyright (C) 2017 City of Bern Switzerland
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~ GNU Affero General Public License for more details.
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program. If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="testdatenView testdatenModul">
    <div class="row">
        <div class="col-md-8 col-md-offset-2">

            <div class="viewTitle marginTop10">
                <h2 [textContent]="'TESTFAELLE_EINFUEGEN' | translate"></h2>
            </div>

            <!--selecton fuer parameter die bestimmen wie die testfaelle erzeugt werden-->
            <div class="row marginTop10">
                <div class="col-sm-3">
                    <mat-radio-group name="creationType" [(ngModel)]="creationType" required>
                        <mat-radio-button value="warten">Betreuungen mit Zustand &#034;warten&#034;</mat-radio-button>
                        <mat-radio-button value="bestaetigt">Betreuungen mit Zustand &#034;best채tigt&#034;
                        </mat-radio-button>
                        <mat-radio-button value="verfuegt">Verf체gte Erstgesuche</mat-radio-button>
                    </mat-radio-group>
                </div>
                <div class="col-sm-3">
                    <label class="md-no-float" for="besitzer">
                        Gesuchsteller wenn gew체nscht
                    </label>
                    <mat-select [(ngModel)]="selectedBesitzer" id="besitzer" name="besitzer" class="input-testfall">
                        <mat-option *ngFor="let gs of gesuchstellerList" [value]="gs">
                            {{gs.vorname}} {{gs.nachname}}
                        </mat-option>
                    </mat-select>
                </div>
                <div class="col-sm-3">
                    <label class="md-no-float" for="periode">
                        Gemeinde
                    </label>
                    <mat-select [(ngModel)]="selectedGemeinde" id="gemeinde" name="gemeinde" class="input-testfall">
                        <mat-option *ngFor="let gem of gemeindeList" [value]="gem">
                            {{gem.name}}
                        </mat-option>
                    </mat-select>
                </div>
                <div class="col-sm-3">
                    <label class="md-no-float" for="periode">
                        Gesuchsperiode
                    </label>
                    <mat-select [(ngModel)]="selectedGesuchsperiode" id="periode" name="periode" class="input-testfall">
                        <mat-option *ngFor="let gp of gesuchsperiodeList" [value]="gp">
                            {{gp.gesuchsperiodeString}}
                        </mat-option>
                    </mat-select>
                </div>
            </div>

            <!--Liste der Faelle-->
            <div class="row marginTop30">
                <ul>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('1')">
                            <span [textContent]="'Testfall Dagmar W채lti: Ledig, 1 Kind, 2 Kitas'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('2')">
                            <span [textContent]="'Testfall Yvonne Feutz: Verheiratet, 2 Kinder, Kita'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('3')">
                            <span [textContent]="'Testfall Marcia Perreira: Verheiratet, 2 Kinder, Kind 1 Kita, Kind 2 keine Betreuung'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('4')">
                            <span [textContent]="'Testfall Laura Walther: Verheiratet, 1 Kind, Kita'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('5')">
                            <span [textContent]="'Testfall Mereth Lueti: Verheiratet, 1 Kind, Kita, 2 Pensen'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('6')">
                            <span [textContent]="'Testfall Nora Becker: Verheiratet, 1 Kind, Kita'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('7')">
                            <span [textContent]="'Testfall Mereth Meier'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('8')">
                            <span [textContent]="'Testfall AusInAusBern'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('9')">
                            <span [textContent]="'Testfall Abwesenheit'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall" (click)="createTestFallType('10')">
                            <span [textContent]="'Testfall Umzug vor Gesuchperiode'"></span>
                        </button>
                    </li>
                    <!-- TODO: When an Instiution with (Tagesschule/Ferien insel) for the 18/19 period
                    can be included in the flyway DB scripts, this test case can be enabled client side. NOTE: The
                    exisiting test UUIDS for Tagesschule and Ferien insel will also have to be updated.
                     -->
                    <!-- <li>
                        <button type="button" class="btn-link btn-testfall" (click)="createTestFallType('11')">
                            <span [textContent]="'Schulamt Only'"></span>
                        </button>
                    </li> -->
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV1')">
                            <span [textContent]="'Testfall ASIV 1'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV2')">
                            <span [textContent]="'Testfall ASIV 2'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV3')">
                            <span [textContent]="'Testfall ASIV 3'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV4')">
                            <span [textContent]="'Testfall ASIV 4'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV5')">
                            <span [textContent]="'Testfall ASIV 5'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV6')">
                            <span [textContent]="'Testfall ASIV 6'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV7')">
                            <span [textContent]="'Testfall ASIV 7'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV8')">
                            <span [textContent]="'Testfall ASIV 8'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV9')">
                            <span [textContent]="'Testfall ASIV 9'"></span>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dv-btn btn-link btn-testfall"
                                (click)="createTestFallType('ASIV10')">
                            <span [textContent]="'Testfall ASIV 10'"></span>
                        </button>
                    </li>
                </ul>
            </div>

            <!--Gesuche eines GS loeschen-->
            <h2 class="marginTop20">Gesuchstellerf채lle l철schen</h2>
            <div class="row marginTop30">
                <div class="col-sm-7 ">
                    <label class="md-no-float" for="gesuchsteller">
                        Gesuchsteller dessen F채lle gel철scht werden sollen
                    </label>
                    <mat-select [(ngModel)]="selectedBesitzer" id="gesuchsteller" name="gesuchsteller"
                                class="input-testfall">
                        <mat-option *ngFor="let gp of gesuchstellerList" [value]="gp">
                            {{gp.getFullName()}}
                        </mat-option>
                    </mat-select>
                </div>
                <div class="col-sm-4 ">
                    <button dvNgDebounceClick (debounceClick)="removeGesucheGS()" class="dv-btn testfall-button">
                        <span [textContent]="'DELETE' | translate"></span>
                    </button>
                </div>
            </div>

            <h2 class="marginTop20">Gesuchsperiode inkl. Gesuche l철schen</h2>
            <div class="row marginTop30">
                <div class="col-sm-7 ">
                    <label class="md-no-float" for="periodeLoeschen">
                        <span>Gesuchsperiode, die gel철scht werden soll</span>
                    </label>
                    <mat-select [(ngModel)]="selectedGesuchsperiode" id="periodeLoeschen" name="periodeLoeschen"
                                class="input-testfall">
                        <mat-option *ngFor="let gpDel of gesuchsperiodeList" [value]="gpDel">
                            {{gpDel.gesuchsperiodeString}}
                        </mat-option>
                    </mat-select>
                </div>
                <div class="col-sm-4 ">
                    <button dvNgDebounceClick (debounceClick)="removeGesuchsperiode()" class="dv-btn testfall-button">
                        <span [textContent]="'DELETE' | translate"></span>
                    </button>
                </div>
            </div>

            <!-- Mutieren: Heirat / Scheidung -->
            <h2 class="marginTop20">Mutieren</h2>
            <div class="row">
                <div class="col-sm-2 dv-input-container-small">
                    <label class="md-no-float" for="dossierid">Dossier-Id:</label>
                    <input id="dossierid" type="text" name="dossierid" [(ngModel)]="dossierid"
                           class="input-testfall">
                </div>
                <div class="col-sm-2 dv-input-container-small">
                    <label class="md-no-float" for="eingangsdatum">Eingangsdatum</label>
                    <input class="input-testfall input-testfall--datepicker" type="text"
                           [matDatepicker]="dpEingangsdatum"
                           placeholder="Eingangsdatum"
                           id="eingangsdatum"
                           [value]="eingangsdatum">
                    <mat-datepicker-toggle matSuffix [for]="dpEingangsdatum"></mat-datepicker-toggle>
                    <mat-datepicker #dpEingangsdatum></mat-datepicker>
                </div>
                <div class="col-sm-2 dv-input-container-small">
                    <label class="" for="ereignisdatum">Ereignisdatum</label>
                    <input class="input-testfall input-testfall--datepicker" [matDatepicker]="dpDatumHeirat" type="text"
                           placeholder="Ereignisdatum"
                           id="ereignisdatum"
                           [value]="ereignisdatum">
                    <mat-datepicker-toggle matSuffix [for]="dpDatumHeirat"></mat-datepicker-toggle>
                    <mat-datepicker #dpDatumHeirat></mat-datepicker>
                </div>
                <div class="col-sm-2 dv-input-container-small">
                    <button dvNgDebounceClick (debounceClick)="mutiereFallHeirat()"
                            class="dv-btn testfall-button testfall-button-duo">
                        Heirat
                    </button>
                    <button dvNgDebounceClick (debounceClick)="mutiereFallScheidung()"
                            class="dv-btn testfall-button testfall-button-duo">
                        Scheidung
                    </button>
                </div>
            </div>

            <!-- Verfuegen -->
            <h2 class="marginTop20">Verf체gen</h2>
            <div class="row">
                <div class="col-md-12 dv-input-container-small">
                    <label class="md-no-float" for="verfuegenGesuchid">Gesuch-Id:</label>
                    <input id="verfuegenGesuchid" type="text" name="verfuegenGesuchid" [(ngModel)]="verfuegenGesuchid"
                           class="input-testfall">
                </div>
                <div>
                    <button dvNgDebounceClick (debounceClick)="gesuchVerfuegen()"
                            class="dv-btn testfall-button testfall-button">
                        Gesuch verf체gen
                    </button>
                </div>
            </div>

            <!-- Test der Mailvorlagen -->
            <h2 class="marginTop20">Mails versenden</h2>
            <div class="row">
                <div class="col-md-12 dv-input-container-small">
                    <label class="md-no-float" for="verfuegenGesuchid">Mailadresse:</label>
                    <input id="mailadresse" type="text" name="mailadresse" [(ngModel)]="mailadresse"
                           class="input-testfall">
                </div>
                <div>
                    <button dvNgDebounceClick (debounceClick)="testAllMails()"
                            class="dv-btn testfall-button testfall-button">
                        Mails senden
                    </button>
                </div>
            </div>

            <!-- Schulungsdaten -->
            <h2 class="marginTop20">Schulung</h2>
            <div class="row">
                <div class="col-md-12">
                    <button dvNgDebounceClick (debounceClick)="resetSchulungsdaten()"
                            class="dv-btn testfall-button-duo">
                        Schulungsdaten erstellen
                    </button>
                    <button dvNgDebounceClick (debounceClick)="deleteSchulungsdaten()"
                            class="dv-btn testfall-button-duo">
                        Schulungsdaten l철schen
                    </button>
                </div>
            </div>

            <!-- Tutorial-Daten -->
            <h2 class="marginTop20" translate>TUTORIAL_TITLE</h2>
            <div class="row">
                <div class="col-md-12">
                    <button dvNgDebounceClick (debounceClick)="createTutorialdaten()"
                            class="dv-btn testfall-button-duo">
                        Tutorialdaten erstellen
                    </button>
                </div>
            </div>

            <!-- Zahlungslaeufe kontrollieren -->
            <h2 class="marginTop20">Zahlungen</h2>
            <div class="row">

                <div class="col-md-12">
                    <button dvNgDebounceClick (debounceClick)="zahlungenKontrollieren()"
                            class="dv-btn testfall-button-duo">
                        Zahlungen kontrollieren
                    </button>
                    <button dvNgDebounceClick (debounceClick)="deleteAllZahlungsauftraege()"
                            class="dv-btn testfall-button-duo">
                        Alle Zahlungen l철schen
                    </button>
                </div>
            </div>

        </div>
    </div>
</div>
