<!--
  ~ Copyright (C) 2018 DV Bern AG, Switzerland
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->
<div ng-form="pensumForm">
    <div class="pensum-input">
        <dv-input-container class="form-group col-md-12">
            <label class="md-no-float"
                   for="betreuungspensum-{{$index}}"
                   data-translate-value-betreuungspensumnumber="{{$index + 1}}">
                <span data-translate="BETREUUNGSPENSUM"></span>
                <dv-tooltip input-id="betreuungspensum-{{$index}}"
                            text="'BETREUUNGSPENSUM_HELP' | translate"></dv-tooltip>
            </label>
            <div class="dv-input-container-medium-label">
                <input type="number"
                       step="{{vm.step}}"
                       id="{{vm.id}}"
                       name="{{vm.id}}"
                       required
                       class="form-control"
                       min="0"
                       aria-describedby="{{vm.id + '-error'}}"
                       ng-change="vm.refreshContent()"
                       ng-model="vm.pensumValue"
                       ng-pattern="vm.CONSTANTS.PATTERN_TWO_DECIMALS"
                       ng-disabled="vm.isDisabled"
                       ng-attr-placeholder="{{vm.getPlaceholder()}}"
                >
                <dv-error-messages input-id="{{vm.id}}" class="error"
                                   for="pensumForm[vm.id].$error"
                                   step="vm.step"></dv-error-messages>
            </div>
            <div class="betreuung-input-switch">
                <dv-switch
                    (switch-value-change)="vm.toggle()"
                    [switch-option-left]="vm.switchOptions[0]"
                    [switch-option-right]="vm.switchOptions[1]"
                    [(switch-value)]="vm.pensumContainer.betreuungspensumJA.unitForDisplay"
                    [disabled]="vm.isDisabled"
                >
                </dv-switch>
            </div>
            <div>
                <span class="dv-betreuung-input-info-label" ng-bind="vm.label"></span>
            </div>
        </dv-input-container>
    </div>
</div>
