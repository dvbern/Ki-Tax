<!--
  ~ Copyright (C) 2023 DV Bern AG, Switzerland
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program. If not, see <https://www.gnu.org/licenses/>.
  -->
<div class="row">
    <div class="col-xs-12">
        <h3 class="margin-bottom-20">{{'FINANZIELLE_VERHAELTNISSE_ECKDATEN' | translate}} {{basisJahr}}</h3>
    </div>
    <div class="col-xs-12  dv-input-container-medium">
        <dv-input-label-field
            [(model)]="model.steuerbaresEinkommen"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_STEUERBARES_EINKOMMEN'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_STEUERBARES_EINKOMMEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.steuerbaresEinkommen"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.steuerbaresEinkommen"
            [korrektur]="model.steuerbaresEinkommen">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-xs-12  dv-input-container-medium">
        <dv-input-label-field
            [(model)]="model.steuerbaresVermoegen"
            [labelMessageKey]="'FINANZIELLE_SITUATION_STEUERBARES_VERMOEGEN'"
            [tooltipMessageKey]="'FINANZIELLE_SITUATION_STEUERBARES_VERMOEGEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.steuerbaresVermoegen"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.steuerbaresVermoegen"
            [korrektur]="model.steuerbaresVermoegen">
        </dv-input-label-field>
    </div>
</div>

<mat-divider></mat-divider>
<h3 class="margin-bottom-20">{{'PHASE_1_PRUEFUNG_OBERGRENZEN' | translate}} {{basisJahr}}</h3>
<dv-input-label-field
    [model]="model.steuerbaresEinkommen"
    [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_STEUERBARES_EINKOMMEN'"
    [inputDisabled]="true">
</dv-input-label-field>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.saeule3a"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_SAEULE3ABVG'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_SAEULE3ABVG_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.saeule3a"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.saeule3a"
            [korrektur]="model.finanzielleVerhaeltnisse?.saeule3a">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.saeule3aNichtBvg"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_SAEULE3A_NICHT_BVG'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_SAEULE3A_NICHT_BVG_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.saeule3aNichtBvg"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.saeule3aNichtBvg"
            [korrektur]="model.finanzielleVerhaeltnisse?.saeule3aNichtBvg">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.beruflicheVorsorge"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_BERUFLICHE_VORSORGE'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_BERUFLICHE_VORSORGE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.beruflicheVorsorge"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.beruflicheVorsorge"
            [korrektur]="model.finanzielleVerhaeltnisse?.beruflicheVorsorge">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.liegenschaftsaufwand"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_LIEGENSCHAFTS_AUFWAND'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_LIEGENSCHAFTS_AUFWAND_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.liegenschaftsaufwand"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.liegenschaftsaufwand"
            [korrektur]="model.finanzielleVerhaeltnisse?.liegenschaftsaufwand">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.einkuenfteBgsa"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_EINKUENFTE_BGSA'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_EINKUENFTE_BGSA_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.einkuenfteBgsa"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.einkuenfteBgsa"
            [korrektur]="model.finanzielleVerhaeltnisse?.einkuenfteBgsa">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.vorjahresverluste"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_VORJAHRESVERLUSTE'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_VORJAHRESVERLUSTE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.vorjahresverluste"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.vorjahresverluste"
            [korrektur]="model.finanzielleVerhaeltnisse?.vorjahresverluste">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [model]="getVermoegenGekurz()"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_VERMOEGEN_15_PERCENT'"
            [inputDisabled]="true">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.politischeParteiSpende"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_POLITISCHE_PARTEI_SPENDE'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_POLITISCHE_PARTEI_SPENDE_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.politischeParteiSpende"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.politischeParteiSpende"
            [korrektur]="model.finanzielleVerhaeltnisse?.politischeParteiSpende">
        </dv-input-label-field>
    </div>
</div>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [(model)]="model.finanzielleVerhaeltnisse.leistungAnJuristischePersonen"
            [labelMessageKey]="'FINANZIELLE_VERHAELTNISSE_LEISTUNG_AN_JURISTISCHE_PERSONEN'"
            [tooltipMessageKey]="'FINANZIELLE_VERHAELTNISSE_LEISTUNG_AN_JURISTISCHE_PERSONEN_HELP'"
            [inputRequired]="true"
            [dvOnBlur]="onValueChangeFunction"
            [inputDisabled]="readOnly"
            [neuerWert]="model.finanzielleVerhaeltnisse.leistungAnJuristischePersonen"
            [wertBasisjahr]="undefined"
            [basisjahr]="finanzModel.getBasisjahr()"
            [showBisher]="showBisher(finanzModel.getFiSiConToWorkWith().finanzielleSituationGS)"
            [deklaration]="finanzModel.getFiSiConToWorkWith().finanzielleSituationGS?.finanzielleVerhaeltnisse?.leistungAnJuristischePersonen"
            [korrektur]="model.finanzielleVerhaeltnisse?.leistungAnJuristischePersonen">
        </dv-input-label-field>
    </div>
</div>

<mat-divider class="margin-bottom-20"></mat-divider>
<h3 class="margin-bottom-20">{{'FINANZIELLE_SITUATION_RESULTATE' | translate:{basisjahr: basisJahr} }}</h3>
<div class="row">
    <div class="col-sm-6">
        <dv-input-label-field
            [model]="resultate?.massgebendesEinkVorAbzFamGr"
            [labelMessageKey]="'FINANZIELLE_SITUATION_MASSGEBENDES_EINKOMMEN'"
            [inputDisabled]="true">
        </dv-input-label-field>
    </div>
</div>
